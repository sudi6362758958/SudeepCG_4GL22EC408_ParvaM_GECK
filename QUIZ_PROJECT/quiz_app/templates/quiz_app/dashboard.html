{% extends 'quiz_app/base.html' %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<section class="py-5 modern-bg">
  <div class="container">
    <h2 class="text-center mb-4 text-gradient">📊 Quiz Dashboard</h2>

    <div class="text-end mb-4">
      <a href="{% url 'create_quiz' %}" class="btn modern-btn">➕ Create New Quiz</a>
    </div>

    <div class="row">
      {% for quiz in quizzes %}
        <div class="col-md-4 mb-4">
          <div class="card glass-card h-100">
            <div class="card-body">
              <h5 class="fw-bold">{{ quiz.title }}</h5>
              <p class="text-muted small">{{ quiz.description|default:"No description" }}</p>
              <div class="d-flex justify-content-between">
                <a href="{% url 'view_quiz' quiz.id %}" class="btn btn-sm modern-outline-btn">▶ View</a>
                <a href="{% url 'edit_quiz' quiz.id %}" class="btn btn-sm btn-warning">✏ Edit</a>
                <a href="{% url 'delete_quiz' quiz.id %}" class="btn btn-sm btn-danger delete-btn">🗑 Delete</a>
              </div>
            </div>
          </div>
        </div>
      {% empty %}
        <p class="text-center text-muted">No quizzes available yet. Create one!</p>
      {% endfor %}
    </div>
  </div>
</section>

<script>
document.querySelectorAll(".delete-btn").forEach(btn => {
  btn.addEventListener("click", e => {
    if (!confirm("Are you sure you want to delete this quiz?")) {
      e.preventDefault();
    }
  });
});
</script>
{% endblock %}
